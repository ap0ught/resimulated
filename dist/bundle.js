!function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=4)}([function(e,n,r){"use strict";r.r(n),n.default="#version 300 es\n\ninvariant gl_Position;\nin vec2 vert2d;\n\nvoid main(void) {\n  gl_Position = vec4(vert2d, 0, 1);\n}\n"},function(e,n,r){"use strict";r.r(n),n.default="#version 300 es\nprecision highp float;\nprecision highp int;\nprecision mediump sampler3D;\nuniform vec3 iResolution;\nuniform float iTime;\n\nuniform sampler2D iChannel0;\nuniform sampler2D iChannel1;\nuniform sampler2D iChannel2;\nuniform sampler2D iChannel3;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // invert\n    vec3 col = vec3(1.0) - texture(iChannel0, uv).rgb;\n\n    // Output to screen\n    fragColor = vec4(col, 1.0);\n}\n\nout vec4 outColor;\nvoid main( void ){vec4 color = vec4(0.0,0.0,0.0,1.0);mainImage( color, gl_FragCoord.xy );color.w = 1.0;outColor = color;}"},function(e,n,r){"use strict";r.r(n),n.default="#version 300 es\nprecision highp float;\nprecision highp int;\nprecision mediump sampler3D;\nuniform vec3 iResolution;\nuniform float iTime;\n\nuniform sampler2D iChannel0;\nuniform sampler2D iChannel1;\nuniform sampler2D iChannel2;\nuniform sampler2D iChannel3;\n\n#define saturate(x) clamp(x, 0.0, 1.0)\n#define PI 3.14159265359\n#define PI2 6.28318530718\n#define EPS 0.0001\n\n#define BPM 120.0\n#define LEN 32.0\n#define _beat (iTime * BPM / 60.0)\n#define beat (mod(_beat, LEN))\n\nfloat sdRect(vec2 p, vec2 b) {\n    vec2 d = abs(p) - b;\n    return max(d.x, d.y) + min(max(d.x, d.y), 0.0);\n}\n\nmat2 rot(float x)\n{\n    return mat2(cos(x), sin(x), -sin(x), cos(x));\n}\n\nvec3 hsv2rgb(vec3 c)\n{\n\tvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n\tvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n\treturn c.z * mix(K.xxx, saturate(p - K.xxx), c.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = (fragCoord.xy * 2.0 - iResolution.xy) / min(iResolution.x, iResolution.y);\n\n    // https://www.shadertoy.com/view/MdKfWR\n    vec2 q = p;\n    float d = 9999.0;\n    float z = PI2 * (beat + 16.0) / LEN;\n    for (int i = 0; i < 5; ++i) {\n        q = abs(q) - 0.5;\n        q *= rot(0.7);\n        q = abs(q) - 0.5;\n        q *= rot(z);\n        q *= 1.5;\n        float k = sdRect(q, vec2(0.5, 0.3 + q.x));\n        d = min(d, k);\n    }\n\n    float s = saturate(abs(0.2 / q.x));\n    vec3 col = hsv2rgb(vec3((beat + 16.0) / LEN, 1.0 - 0.6 * s, s)) * saturate(-2.0 * d);\n    col = pow(col * 2.0, vec3(2.0));\n    fragColor = vec4(col,1.0);\n}\n\nout vec4 outColor;\nvoid main( void ){vec4 color = vec4(0.0,0.0,0.0,1.0);mainImage( color, gl_FragCoord.xy );color.w = 1.0;outColor = color;}"},function(e,n,r){"use strict";r.r(n),n.default="body{background-color:#000;margin:0;padding:0;color:#fff}canvas{display:block;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}#c{display:none}"},function(e,n,r){"use strict";var t;r.r(n),function(e){e[e.MainImage=0]="MainImage",e[e.Buffer=1]="Buffer",e[e.Audio=2]="Audio"}(t||(t={}));var o=function(){},i=function(e,n,r){var i=this;this.isPlaying=!0,this.time=0;var a=document.createElement("canvas");a.width=512,a.height=512,window.document.body.appendChild(a);var u=a.getContext("webgl2");if(u){u.enable(u.CULL_FACE);var l=[[1,1],[-1,1],[1,-1],[-1,-1]],f=new Float32Array([].concat.apply([],l)),c=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,c),u.bufferData(u.ARRAY_BUFFER,f,u.STATIC_DRAW),u.bindBuffer(u.ARRAY_BUFFER,null);var d=[[0,1,2],[3,2,1]],m=new Uint16Array([].concat.apply([],d)),s=u.createBuffer();u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,s),u.bufferData(u.ELEMENT_ARRAY_BUFFER,m,u.STATIC_DRAW),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,null);var v={iResolution:{type:"v3",value:[512,512,0]},iTime:{type:"f",value:0},iChannel0:{type:"t",value:0},iChannel1:{type:"t",value:1},iChannel2:{type:"t",value:2},iChannel3:{type:"t",value:3}},E=u.createVertexArray(),R=function(e,n){var r=u.createShader(n);return u.shaderSource(r,e),u.compileShader(r),u.getShaderParameter(r,u.COMPILE_STATUS)||console.log(e,u.getShaderInfoLog(r)),r},p=function(n){var r=[R(e,u.VERTEX_SHADER),R(n,u.FRAGMENT_SHADER)],t=u.createProgram();return r.forEach((function(e){return u.attachShader(t,e)})),u.linkProgram(t),u.getProgramParameter(t,u.LINK_STATUS)||console.log(u.getProgramInfoLog(t)),t},T=function(e,n){!function(e){u.bindVertexArray(E),u.bindBuffer(u.ARRAY_BUFFER,c),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,s);var n=u.getAttribLocation(e,"vert2d"),r=u.FLOAT,t=l[0].length,o=t*Float32Array.BYTES_PER_ELEMENT;u.enableVertexAttribArray(n),u.vertexAttribPointer(n,t,r,!1,o,0),u.bindVertexArray(null)}(e);var r=new o;if(r.program=e,r.locations=function(e){var n={};return Object.keys(v).forEach((function(r){n[r]=u.getUniformLocation(e,r)})),n}(e),n===t.Buffer){var i=function(e,n){var r=u.createFramebuffer();u.bindFramebuffer(u.FRAMEBUFFER,r);var t=u.createTexture();return u.bindTexture(u.TEXTURE_2D,t),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,e,n,0,u.RGBA,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,t,0),u.bindTexture(u.TEXTURE_2D,null),u.bindRenderbuffer(u.RENDERBUFFER,null),u.bindFramebuffer(u.FRAMEBUFFER,null),{f:r,t:t}}(a.width,a.height);r.frameBuffer=i.f,r.texture=i.t}return r},g=function(e,n){u.useProgram(e.program),u.bindFramebuffer(u.FRAMEBUFFER,e.frameBuffer),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT);for(var r=0,t=Object.entries(v);r<t.length;r++){var o=t[r],i=o[0],a=o[1];"t"===a.type&&a.value<n.length&&(u.activeTexture(u.TEXTURE0+a.value),u.bindTexture(u.TEXTURE_2D,n[a.value].texture)),{f:u.uniform1f,v3:u.uniform3fv,t:u.uniform1i}[a.type].call(u,e.locations[i],a.value)}u.bindVertexArray(E);var l=0*d[0].length;u.drawElements(u.TRIANGLES,m.length,u.UNSIGNED_SHORT,l);var f=u.getError();f!==u.NO_ERROR&&console.log(f),u.bindVertexArray(null),u.useProgram(null)},b=T(p(n),t.MainImage),_=r.map((function(e){return T(p(e),t.Buffer)})),x=0,A=0,h=function(e){requestAnimationFrame(h);var n=.001*(e-x);(i.isPlaying||A!==i.time)&&(null!=i.onRender&&i.onRender(i.time),v.iTime.value=i.time,_.forEach((function(e){return g(e,_)})),g(b,_),i.time+=n,A=i.time),x=e};h(0)}else console.log("WebGL 2 is not supported...")};window.addEventListener("load",(function(e){new i(r(0).default,r(1).default,[r(2).default]);var n=document.createElement("style");n.innerText=r(3).default,document.head.appendChild(n)}),!1)}]);